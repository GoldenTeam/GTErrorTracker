<?php

use GTErrorTracker\H\EventType;
?>

<div class="row">
    <span data-page-info="<?php echo $pageNum;?>"></span>
    <b><?php $this->GTTxt("Event Id"); ?>:</b><?php $this->item->show("event_logger_id");?><br>
    <b><?php $this->GTTxt("Date"); ?>:</b><?php $this->item->show("DateTimeFormat")?><br>
    <b><?php $this->GTTxt("Event Type"); ?>:</b><?php echo(EventType::getName($this->item->event_type));?><br>
    <b><?php $this->GTTxt("Event Hash"); ?>:</b> <?php $this->item->show("event_hash")?><br>
    <b><?php $this->GTTxt("File:Line"); ?></b><br>
    <?php $this->item->show("event_file");?>:<?php $this->item->show("line");?><br>
    <b><?php $this->GTTxt("Event Message"); ?>:</b><br>
    <?php $this->item->show("message");?><br>
    <b><?php $this->GTTxt("User");?>:</b>

    <?php $user = $this->item->get_user();?>
    <?php if($user instanceof \GTErrorTracker\Model\GTUserInterface){?>
        <span class="user_info" data-user-id="<?php echo $user->getId(); ?>">
            <?php $user->show("DisplayName");?>
        </span>
    <?php } else {
        $this->GTTxt("No User available");
    }?><br>

    <b><?php $this->GTTxt("Device Id");?>:</b><?php $this->item->show("device_id");?>
    <b><?php $this->GTTxt("Ip Address");?>:</b><?php $this->item->show("ip_address");?>

</div>

<div class="row">
    <b><?php $this->GTTxt("Stack Trace"); ?>:</b><br>
    <?php $this->item->show("stack_trace");?>
</div>

<div class="row">

    <div class="accordion" id="accordion2">
        <?php echo $this->xdebug_message;?>
        <?php echo $this->variables_dump;?>
        <?php echo $this->trace_dump;?>
    </div>

</div>